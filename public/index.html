<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="css/leaflet.css" />
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css" />
    <link rel="stylesheet" href="css/L.Control.Locate.min.css" />
    <link rel="stylesheet" href="css/qgis2web.css" />
    <link rel="stylesheet" href="css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="css/leaflet-search.css" />
    <link rel="stylesheet" href="css/leaflet-measure.css" />
    <style>
      html,
      body,
      #map {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }
      #select-area-btn {
        position: absolute;
        bottom: 20px;
        left: 20px;
        z-index: 1000;
        background-color: #007bff;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
      }
      #select-area-btn:hover {
        background-color: #0056b3;
      }

      #generate-pdf-button {
        position: absolute;
        bottom: 10px;
        left: 10px;
        z-index: 1000; /* Ensure it appears above the map */
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
      }

      #generate-pdf-button:hover {
        background-color: #0056b3;
      }
    </style>
    <title>
      Registrul Local al Spatiilor Verzi, Com. Mihai Viteazu, Jud. Cluj
    </title>
  </head>
  <body>
    <div id="map"></div>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/L.Control.Locate.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet-measure.js"></script>
    <script src="js/leaflet-search.js"></script>
    <script src="data/LimitaUAT_2.js"></script>
    <script src="data/Intravilan_3.js"></script>
    <script src="data/Imobile_4.js"></script>
    <script src="data/Constructii_5.js"></script>
    <script src="data/Parcele_6.js"></script>
    <script src="data/GardViu_7.js"></script>
    <script src="data/Arbori_8.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    <script src="https://unpkg.com/leaflet-pip@1.1.0/leaflet-pip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
      var highlightLayer;
      function highlightFeature(e) {
        highlightLayer = e.target;
        highlightLayer.openPopup();
      }
      var map = L.map("map", {
        zoomControl: false,
        //TODO De adaugat
        preferCanvas: true,
        zoomAnimation: false,
        markerZoomAnimation: false,
        // Final de adaugat
        maxZoom: 21,
        minZoom: 1,
      }).fitBounds([
        [46.538830465625765, 23.74409226608196],
        [46.54076431980635, 23.748638235140515],
      ]);
      var hash = new L.Hash(map);
      map.attributionControl.setPrefix(
        '<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>'
      );
      var autolinker = new Autolinker({
        truncate: { length: 30, location: "smart" },
      });
      // remove popup's row if "visible-with-data"
      function removeEmptyRowsFromPopupContent(content, feature) {
        var tempDiv = document.createElement("div");
        tempDiv.innerHTML = content;
        var rows = tempDiv.querySelectorAll("tr");
        for (var i = 0; i < rows.length; i++) {
          var td = rows[i].querySelector("td.visible-with-data");
          var key = td ? td.id : "";
          if (
            td &&
            td.classList.contains("visible-with-data") &&
            feature.properties[key] == null
          ) {
            rows[i].parentNode.removeChild(rows[i]);
          }
        }
        return tempDiv.innerHTML;
      }
      // add class to format popup if it contains media
      function addClassToPopupIfMedia(content, popup) {
        var tempDiv = document.createElement("div");
        tempDiv.innerHTML = content;
        if (tempDiv.querySelector("td img")) {
          popup._contentNode.classList.add("media");
          // Delay to force the redraw
          setTimeout(function () {
            popup.update();
          }, 10);
        } else {
          popup._contentNode.classList.remove("media");
        }
      }
      var title = new L.Control({ position: "topleft" });
      title.onAdd = function (map) {
        this._div = L.DomUtil.create("div", "info");
        this.update();
        return this._div;
      };
      title.update = function () {
        this._div.innerHTML =
          "<h2>Registrul Local al Spatiilor Verzi, Com. Mihai Viteazu, Jud. Cluj</h2>";
      };
      title.addTo(map);
      var zoomControl = L.control
        .zoom({
          position: "topleft",
        })
        .addTo(map);
      L.control.locate({ locateOptions: { maxZoom: 19 } }).addTo(map);
      var measureControl = new L.Control.Measure({
        position: "topleft",
        primaryLengthUnit: "meters",
        secondaryLengthUnit: "kilometers",
        primaryAreaUnit: "sqmeters",
        secondaryAreaUnit: "hectares",
      });
      measureControl.addTo(map);
      document.getElementsByClassName(
        "leaflet-control-measure-toggle"
      )[0].innerHTML = "";
      document.getElementsByClassName(
        "leaflet-control-measure-toggle"
      )[0].className += " fas fa-ruler";
      var bounds_group = new L.featureGroup([]);
      function setBounds() {}
      //TODO: De inlocuit de pe main
      map.createPane("pane_GoogleMaps_0");
      map.getPane("pane_GoogleMaps_0").style.zIndex = 400;
      var layer_GoogleMaps_0 = L.tileLayer(
        "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          attribution: "&copy; OpenStreetMap contributors",
          crossOrigin: true,
        }
      );
      layer_GoogleMaps_0;
      map.addLayer(layer_GoogleMaps_0);
      map.createPane("pane_GoogleSatellite_1");
      map.getPane("pane_GoogleSatellite_1").style.zIndex = 401;
      var layer_GoogleSatellite_1 = L.tileLayer(
        "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          attribution: "&copy; OpenStreetMap contributors",
          crossOrigin: true,
        }
      );
      layer_GoogleSatellite_1;
      map.addLayer(layer_GoogleSatellite_1);

      // Pana aici de inlocuit de pe main

      // harta satelit
      var layer_Satellite = L.tileLayer(
        "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
        {
          attribution:
            "Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",
        }
      );
      // harta satelit
      function pop_LimitaUAT_2(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
      }

      function style_LimitaUAT_2_0() {
        return {
          pane: "pane_LimitaUAT_2",
          opacity: 1,
          color: "rgba(48,157,184,1.0)",
          dashArray: "",
          lineCap: "square",
          lineJoin: "bevel",
          weight: 4.0,
          fillOpacity: 0,
          interactive: true,
        };
      }
      map.createPane("pane_LimitaUAT_2");
      map.getPane("pane_LimitaUAT_2").style.zIndex = 402;
      map.getPane("pane_LimitaUAT_2").style["mix-blend-mode"] = "normal";
      var layer_LimitaUAT_2 = new L.geoJson(json_LimitaUAT_2, {
        attribution: "",
        interactive: true,
        dataVar: "json_LimitaUAT_2",
        layerName: "layer_LimitaUAT_2",
        pane: "pane_LimitaUAT_2",
        onEachFeature: pop_LimitaUAT_2,
        style: style_LimitaUAT_2_0,
      });
      bounds_group.addLayer(layer_LimitaUAT_2);
      map.addLayer(layer_LimitaUAT_2);
      function pop_Intravilan_3(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <td colspan="2">' +
          (feature.properties["Localitate"] !== null
            ? autolinker.link(
                String(feature.properties["Localitate"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_Intravilan_3_0() {
        return {
          pane: "pane_Intravilan_3",
          opacity: 1,
          color: "rgba(241,52,220,1.0)",
          dashArray: "2.0,4.0",
          lineCap: "square",
          lineJoin: "bevel",
          weight: 2.0,
          fillOpacity: 0,
          interactive: false,
        };
      }
      map.createPane("pane_Intravilan_3");
      map.getPane("pane_Intravilan_3").style.zIndex = 403;
      map.getPane("pane_Intravilan_3").style["mix-blend-mode"] = "normal";
      var layer_Intravilan_3 = new L.geoJson(json_Intravilan_3, {
        attribution: "",
        interactive: false,
        dataVar: "json_Intravilan_3",
        layerName: "layer_Intravilan_3",
        pane: "pane_Intravilan_3",
        onEachFeature: pop_Intravilan_3,
        style: style_Intravilan_3_0,
      });
      bounds_group.addLayer(layer_Intravilan_3);
      map.addLayer(layer_Intravilan_3);
      function pop_Imobile_4(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">Id_imobil</th>\
                        <td>' +
          (feature.properties["Id_imobil"] !== null
            ? autolinker.link(
                String(feature.properties["Id_imobil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Judetul</th>\
                        <td>' +
          (feature.properties["Judetul"] !== null
            ? autolinker.link(
                String(feature.properties["Judetul"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Localitate</th>\
                        <td>' +
          (feature.properties["Localitate"] !== null
            ? autolinker.link(
                String(feature.properties["Localitate"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">CodSiruta</th>\
                        <td>' +
          (feature.properties["CodSiruta"] !== null
            ? autolinker.link(
                String(feature.properties["CodSiruta"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sectiune</th>\
                        <td>' +
          (feature.properties["Sectiune"] !== null
            ? autolinker.link(
                String(feature.properties["Sectiune"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Nr_cad</th>\
                        <td>' +
          (feature.properties["Nr_cad"] !== null
            ? autolinker.link(
                String(feature.properties["Nr_cad"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Nr_CF</th>\
                        <td>' +
          (feature.properties["Nr_CF"] !== null
            ? autolinker.link(
                String(feature.properties["Nr_CF"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Suprafata</th>\
                        <td>' +
          (feature.properties["Suprafata"] !== null
            ? autolinker.link(
                String(feature.properties["Suprafata"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Codzonaval</th>\
                        <td>' +
          (feature.properties["Codzonaval"] !== null
            ? autolinker.link(
                String(feature.properties["Codzonaval"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Codzonapro</th>\
                        <td>' +
          (feature.properties["Codzonapro"] !== null
            ? autolinker.link(
                String(feature.properties["Codzonapro"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Codpostal</th>\
                        <td>' +
          (feature.properties["Codpostal"] !== null
            ? autolinker.link(
                String(feature.properties["Codpostal"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Adresa</th>\
                        <td>' +
          (feature.properties["Adresa"] !== null
            ? autolinker.link(
                String(feature.properties["Adresa"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Denumire</th>\
                        <td>' +
          (feature.properties["Denumire"] !== null
            ? autolinker.link(
                String(feature.properties["Denumire"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">TipSV</th>\
                        <td>' +
          (feature.properties["TipSV"] !== null
            ? autolinker.link(
                String(feature.properties["TipSV"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">SubtipSV</th>\
                        <td>' +
          (feature.properties["SubtipSV"] !== null
            ? autolinker.link(
                String(feature.properties["SubtipSV"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Echip_edil</th>\
                        <td>' +
          (feature.properties["Echip_edil"] !== null
            ? autolinker.link(
                String(feature.properties["Echip_edil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Document</th>\
                        <td>' +
          (feature.properties["Document"] !== null
            ? autolinker.link(
                String(feature.properties["Document"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_Imobile_4_0() {
        return {
          pane: "pane_Imobile_4",
          opacity: 1,
          color: "rgba(235,243,69,1.0)",
          dashArray: "",
          lineCap: "square",
          lineJoin: "bevel",
          weight: 4.0,
          fillOpacity: 0,
          interactive: true,
        };
      }
      map.createPane("pane_Imobile_4");
      map.getPane("pane_Imobile_4").style.zIndex = 404;
      map.getPane("pane_Imobile_4").style["mix-blend-mode"] = "normal";
      var layer_Imobile_4 = new L.geoJson(json_Imobile_4, {
        attribution: "",
        interactive: true,
        dataVar: "json_Imobile_4",
        layerName: "layer_Imobile_4",
        pane: "pane_Imobile_4",
        onEachFeature: pop_Imobile_4,
        style: style_Imobile_4_0,
      });
      bounds_group.addLayer(layer_Imobile_4);
      map.addLayer(layer_Imobile_4);
      function pop_Constructii_5(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">Id_constr</th>\
                        <td>' +
          (feature.properties["Id_constr"] !== null
            ? autolinker.link(
                String(feature.properties["Id_constr"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Id_imobil</th>\
                        <td>' +
          (feature.properties["Id_imobil"] !== null
            ? autolinker.link(
                String(feature.properties["Id_imobil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Prop_detin</th>\
                        <td>' +
          (feature.properties["Prop_detin"] !== null
            ? autolinker.link(
                String(feature.properties["Prop_detin"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Tip_prop</th>\
                        <td>' +
          (feature.properties["Tip_prop"] !== null
            ? autolinker.link(
                String(feature.properties["Tip_prop"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Mod_adm</th>\
                        <td>' +
          (feature.properties["Mod_adm"] !== null
            ? autolinker.link(
                String(feature.properties["Mod_adm"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Nr_corp</th>\
                        <td>' +
          (feature.properties["Nr_corp"] !== null
            ? autolinker.link(
                String(feature.properties["Nr_corp"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Cod_dest</th>\
                        <td>' +
          (feature.properties["Cod_dest"] !== null
            ? autolinker.link(
                String(feature.properties["Cod_dest"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Observatii</th>\
                        <td>' +
          (feature.properties["Observatii"] !== null
            ? autolinker.link(
                String(feature.properties["Observatii"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sup_const</th>\
                        <td>' +
          (feature.properties["Sup_const"] !== null
            ? autolinker.link(
                String(feature.properties["Sup_const"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_Constructii_5_0() {
        return {
          pane: "pane_Constructii_5",
          opacity: 1,
          color: "rgba(35,35,35,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 1.0,
          fill: true,
          fillOpacity: 0.4,
          fillColor: "rgba(192,57,43,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_Constructii_5");
      map.getPane("pane_Constructii_5").style.zIndex = 405;
      map.getPane("pane_Constructii_5").style["mix-blend-mode"] = "normal";
      var layer_Constructii_5 = new L.geoJson(json_Constructii_5, {
        attribution: "",
        interactive: true,
        dataVar: "json_Constructii_5",
        layerName: "layer_Constructii_5",
        pane: "pane_Constructii_5",
        onEachFeature: pop_Constructii_5,
        style: style_Constructii_5_0,
      });
      bounds_group.addLayer(layer_Constructii_5);
      map.addLayer(layer_Constructii_5);
      function pop_Parcele_6(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">Id_parcela</th>\
                        <td>' +
          (feature.properties["Id_parcela"] !== null
            ? autolinker.link(
                String(feature.properties["Id_parcela"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Id_imobil</th>\
                        <td>' +
          (feature.properties["Id_imobil"] !== null
            ? autolinker.link(
                String(feature.properties["Id_imobil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Prop_detin</th>\
                        <td>' +
          (feature.properties["Prop_detin"] !== null
            ? autolinker.link(
                String(feature.properties["Prop_detin"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Tip_prop</th>\
                        <td>' +
          (feature.properties["Tip_prop"] !== null
            ? autolinker.link(
                String(feature.properties["Tip_prop"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Mod_adm</th>\
                        <td>' +
          (feature.properties["Mod_adm"] !== null
            ? autolinker.link(
                String(feature.properties["Mod_adm"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Categ</th>\
                        <td>' +
          (feature.properties["Categ"] !== null
            ? autolinker.link(
                String(feature.properties["Categ"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Reg_urb</th>\
                        <td>' +
          (feature.properties["Reg_urb"] !== null
            ? autolinker.link(
                String(feature.properties["Reg_urb"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Suprafata</th>\
                        <td>' +
          (feature.properties["Suprafata"] !== null
            ? autolinker.link(
                String(feature.properties["Suprafata"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sp_indiv</th>\
                        <td>' +
          (feature.properties["Sp_indiv"] !== null
            ? autolinker.link(
                String(feature.properties["Sp_indiv"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sp_excl</th>\
                        <td>' +
          (feature.properties["Sp_excl"] !== null
            ? autolinker.link(
                String(feature.properties["Sp_excl"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Observ</th>\
                        <td>' +
          (feature.properties["Observ"] !== null
            ? autolinker.link(
                String(feature.properties["Observ"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_Parcele_6_0(feature) {
        switch (String(feature.properties["Categ"])) {
          case "AP":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(243,156,18,1.0)",
              interactive: true,
            };
            break;
          case "CC":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(127,140,141,1.0)",
              interactive: true,
            };
            break;
          case "CI":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(86,101,115,1.0)",
              interactive: true,
            };
            break;
          case "CO":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(192,57,43,1.0)",
              interactive: true,
            };
            break;
          case "CPC":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(149,165,166,1.0)",
              interactive: true,
            };
            break;
          case "CS":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(39,174,96,1.0)",
              interactive: true,
            };
            break;
          case "CSJ":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(241,196,15,1.0)",
              interactive: true,
            };
            break;
          case "DR":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(52,73,94,1.0)",
              interactive: true,
            };
            break;
          case "GN":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(123,36,28,1.0)",
              interactive: true,
            };
            break;
          case "HC":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(93,173,226,1.0)",
              interactive: true,
            };
            break;
          case "MON":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(155,89,182,1.0)",
              interactive: true,
            };
            break;
          case "SV":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(46,204,113,1.0)",
              interactive: true,
            };
            break;
          case "TLN":
            return {
              pane: "pane_Parcele_6",
              opacity: 1,
              color: "rgba(35,35,35,1.0)",
              dashArray: "",
              lineCap: "butt",
              lineJoin: "miter",
              weight: 1.0,
              fill: true,
              fillOpacity: 0.4,
              fillColor: "rgba(189,195,199,1.0)",
              interactive: true,
            };
            break;
        }
      }
      map.createPane("pane_Parcele_6");
      map.getPane("pane_Parcele_6").style.zIndex = 406;
      map.getPane("pane_Parcele_6").style["mix-blend-mode"] = "normal";
      var layer_Parcele_6 = new L.geoJson(json_Parcele_6, {
        attribution: "",
        interactive: true,
        dataVar: "json_Parcele_6",
        layerName: "layer_Parcele_6",
        pane: "pane_Parcele_6",
        onEachFeature: pop_Parcele_6,
        style: style_Parcele_6_0,
      });
      bounds_group.addLayer(layer_Parcele_6);
      map.addLayer(layer_Parcele_6);
      function pop_GardViu_7(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">Id_gard</th>\
                        <td>' +
          (feature.properties["Id_gard"] !== null
            ? autolinker.link(
                String(feature.properties["Id_gard"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Id_imobil</th>\
                        <td>' +
          (feature.properties["Id_imobil"] !== null
            ? autolinker.link(
                String(feature.properties["Id_imobil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Lungime</th>\
                        <td>' +
          (feature.properties["Lungime"] !== null
            ? autolinker.link(
                String(feature.properties["Lungime"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_GardViu_7_0() {
        return {
          pane: "pane_GardViu_7",
          opacity: 1,
          color: "rgba(113,243,30,1.0)",
          dashArray: "",
          lineCap: "round",
          lineJoin: "round",
          weight: 7.0,
          fillOpacity: 0,
          interactive: true,
        };
      }
      map.createPane("pane_GardViu_7");
      map.getPane("pane_GardViu_7").style.zIndex = 407;
      map.getPane("pane_GardViu_7").style["mix-blend-mode"] = "normal";
      var layer_GardViu_7 = new L.geoJson(json_GardViu_7, {
        attribution: "",
        interactive: true,
        dataVar: "json_GardViu_7",
        layerName: "layer_GardViu_7",
        pane: "pane_GardViu_7",
        onEachFeature: pop_GardViu_7,
        style: style_GardViu_7_0,
      });
      bounds_group.addLayer(layer_GardViu_7);
      map.addLayer(layer_GardViu_7);
      function pop_Arbori_8(feature, layer) {
        layer.on({
          mouseout: function (e) {
            if (typeof layer.closePopup == "function") {
              layer.closePopup();
            } else {
              layer.eachLayer(function (feature) {
                feature.closePopup();
              });
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                    <tr>\
                        <th scope="row">Id_arbore</th>\
                        <td>' +
          (feature.properties["Id_arbore"] !== null
            ? autolinker.link(
                String(feature.properties["Id_arbore"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Id_imobil</th>\
                        <td>' +
          (feature.properties["Id_imobil"] !== null
            ? autolinker.link(
                String(feature.properties["Id_imobil"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Specia</th>\
                        <td>' +
          (feature.properties["Specia"] !== null
            ? autolinker.link(
                String(feature.properties["Specia"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Talie</th>\
                        <td>' +
          (feature.properties["Talie"] !== null
            ? autolinker.link(
                String(feature.properties["Talie"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Inaltime</th>\
                        <td>' +
          (feature.properties["Inaltime"] !== null
            ? autolinker.link(
                String(feature.properties["Inaltime"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Cod_diam</th>\
                        <td>' +
          (feature.properties["Cod_diam"] !== null
            ? autolinker.link(
                String(feature.properties["Cod_diam"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Diametru</th>\
                        <td>' +
          (feature.properties["Diametru"] !== null
            ? autolinker.link(
                String(feature.properties["Diametru"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Cod_coro</th>\
                        <td>' +
          (feature.properties["Cod_coro"] !== null
            ? autolinker.link(
                String(feature.properties["Cod_coro"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Coroana</th>\
                        <td>' +
          (feature.properties["Coroana"] !== null
            ? autolinker.link(
                String(feature.properties["Coroana"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Varsta</th>\
                        <td>' +
          (feature.properties["Varsta"] !== null
            ? autolinker.link(
                String(feature.properties["Varsta"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Stare_viab</th>\
                        <td>' +
          (feature.properties["Stare_viab"] !== null
            ? autolinker.link(
                String(feature.properties["Stare_viab"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Grad_intre</th>\
                        <td>' +
          (feature.properties["Grad_intre"] !== null
            ? autolinker.link(
                String(feature.properties["Grad_intre"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Risc_pot</th>\
                        <td>' +
          (feature.properties["Risc_pot"] !== null
            ? autolinker.link(
                String(feature.properties["Risc_pot"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Ocrotit</th>\
                        <td>' +
          (feature.properties["Ocrotit"] !== null
            ? autolinker.link(
                String(feature.properties["Ocrotit"])
                  .replace(/'/g, "'")
                  .toLocaleString()
              )
            : "") +
          "</td>\
                    </tr>\
                </table>";
        var content = removeEmptyRowsFromPopupContent(popupContent, feature);
        layer.on("popupopen", function (e) {
          addClassToPopupIfMedia(content, e.popup);
        });
        layer.bindPopup(content, { maxHeight: 400 });
      }

      function style_Arbori_8_0() {
        return {
          pane: "pane_Arbori_8",
          rotationAngle: 0.0,
          rotationOrigin: "center center",
          icon: L.icon({
            iconUrl: "markers/Arbori_8.svg",
            iconSize: [19.0, 19.0],
          }),
          interactive: true,
        };
      }
      map.createPane("pane_Arbori_8");
      map.getPane("pane_Arbori_8").style.zIndex = 408;
      map.getPane("pane_Arbori_8").style["mix-blend-mode"] = "normal";
      var layer_Arbori_8 = new L.geoJson(json_Arbori_8, {
        attribution: "",
        interactive: true,
        dataVar: "json_Arbori_8",
        layerName: "layer_Arbori_8",
        pane: "pane_Arbori_8",
        onEachFeature: pop_Arbori_8,
        pointToLayer: function (feature, latlng) {
          var context = {
            feature: feature,
            variables: {},
          };
          return L.marker(latlng, style_Arbori_8_0(feature));
        },
      });
      bounds_group.addLayer(layer_Arbori_8);
      map.addLayer(layer_Arbori_8);
      var overlaysTree = [
        {
          label: '<img src="legend/Arbori_8.png" /> Arbori',
          layer: layer_Arbori_8,
        },
        {
          label: '<img src="legend/GardViu_7.png" /> GardViu',
          layer: layer_GardViu_7,
        },
        {
          label:
            'Parcele<br /><table><tr><td style="text-align: center;"><img src="legend/Parcele_6_AP0.png" /></td><td>AP</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CC1.png" /></td><td>CC</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CI2.png" /></td><td>CI</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CO3.png" /></td><td>CO</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CPC4.png" /></td><td>CPC</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CS5.png" /></td><td>CS</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_CSJ6.png" /></td><td>CSJ</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_DR7.png" /></td><td>DR</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_GN8.png" /></td><td>GN</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_HC9.png" /></td><td>HC</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_MON10.png" /></td><td>MON</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_SV11.png" /></td><td>SV</td></tr><tr><td style="text-align: center;"><img src="legend/Parcele_6_TLN12.png" /></td><td>TLN</td></tr></table>',
          layer: layer_Parcele_6,
        },
        {
          label: '<img src="legend/Constructii_5.png" /> Constructii',
          layer: layer_Constructii_5,
        },
        {
          label: '<img src="legend/Imobile_4.png" /> Imobile',
          layer: layer_Imobile_4,
        },
        {
          label: '<img src="legend/Intravilan_3.png" /> Intravilan',
          layer: layer_Intravilan_3,
        },
        {
          label: '<img src="legend/LimitaUAT_2.png" /> Limita UAT',
          layer: layer_LimitaUAT_2,
        },
        {
          label: "<b>Harta de baza</b>",
          selectAllCheckbox: true,
          children: [
            { label: "Map", layer: layer_GoogleMaps_0 },
            { label: "Satelit", layer: layer_Satellite },
          ],
        },
      ];
      var lay = L.control.layers.tree(null, overlaysTree, {
        //namedToggle: true,
        //selectorBack: false,
        //closedSymbol: '&#8862; &#x1f5c0;',
        //openedSymbol: '&#8863; &#x1f5c1;',
        //collapseAll: 'Collapse all',
        //expandAll: 'Expand all',
        collapsed: true,
      });
      lay.addTo(map);
      setBounds();
      var i = 0;
      layer_Arbori_8.eachLayer(function (layer) {
        var context = {
          feature: layer.feature,
          variables: {},
        };
        layer.bindTooltip(
          layer.feature.properties["Id_arbore"] !== null
            ? String(
                "<div style=\"color: #ffff4b; font-size: 6pt; font-style: italic; font-family: 'Calibri', sans-serif;\">" +
                  layer.feature.properties["Id_arbore"]
              ) + "</div>"
            : "",
          { permanent: true, offset: [-0, -16], className: "css_Arbori_8" }
        );
        labels.push(layer);
        totalMarkers += 1;
        layer.added = true;
        addLabel(layer, i);
        i++;
      });
      map.addControl(
        new L.Control.Search({
          layer: layer_Imobile_4,
          initial: false,
          hideMarkerOnCollapse: true,
          propertyName: "Nr_cad",
        })
      );
      document.getElementsByClassName("search-button")[0].className +=
        " fa fa-binoculars";
      resetLabels([layer_Arbori_8]);
      map.on("zoomend", function () {
        resetLabels([layer_Arbori_8]);
      });
      map.on("layeradd", function () {
        resetLabels([layer_Arbori_8]);
      });
      map.on("layerremove", function () {
        resetLabels([layer_Arbori_8]);
      });
    </script>
    <script src="js/extra_pdf_export_logic.js"></script>
  </body>
</html>
